<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Gatsby Starter Blog RSS Feed]]></title><description><![CDATA[A starter blog demonstrating what Gatsby can do.]]></description><link>https://mingyu.kim</link><generator>GatsbyJS</generator><lastBuildDate>Sat, 01 Jul 2023 02:20:02 GMT</lastBuildDate><item><title><![CDATA[About]]></title><description><![CDATA[Profile Profile
Undergraduate in Computer Science in UNIST UNIST School of Electrical & Computer Engineering (2013 ~) UNIST Computer…]]></description><link>https://mingyu.kim/about/</link><guid isPermaLink="false">https://mingyu.kim/about/</guid><content:encoded>&lt;h3&gt;Profile&lt;/h3&gt;
&lt;p&gt;Profile
Undergraduate in Computer Science in &lt;a href=&quot;https://www.unist.ac.kr/&quot;&gt;UNIST&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;UNIST School of &lt;a href=&quot;https://ib.unist.ac.kr/&quot;&gt;Electrical &amp;#x26; Computer Engineering&lt;/a&gt; (2013 ~)&lt;/p&gt;
&lt;p&gt;UNIST Computer Security Club, &lt;a href=&quot;https://hexa-unist.github.io/about/&quot;&gt;HeXA&lt;/a&gt; (2013 ~)&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;3000won.com&quot;&gt;3000Won (삼천원)&lt;/a&gt; - Web Developer (2017 ~)&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.recobell.com/&quot;&gt;Recobell&lt;/a&gt; - Web development intern (2017.05 ~ 2018.01)&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.rocketpunch.com/companies/voost&quot;&gt;Voost&lt;/a&gt; - Web Front Engineer (2019.01 ~ 2019.05)&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.prestolabs.io/&quot;&gt;Presto Labs&lt;/a&gt; - Web Developer (2019.06 ~ 2021.07)&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.sketchsoft3d.com/&quot;&gt;Sketchsoft&lt;/a&gt; - Software Engineer (2021.07 ~ )&lt;/p&gt;
&lt;h3&gt;Contact&lt;/h3&gt;
&lt;p&gt;Email: &lt;a href=&quot;mailto:contact@mingyu.kim&quot;&gt;contact@mingyu.kim&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/mango-tree&quot;&gt;github&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.linkedin.com/in/mingyu-kim-162a06165/&quot;&gt;LinkedIn&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Award&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;&quot;&gt;&lt;/a&gt;2018. 08. 2018 Rotman-UNIST Trading Competition 1st Prize &lt;a href=&quot;https://news.unist.ac.kr/unist-announces-successful-completion-of-2018-rotman-unist-trading-competition/&quot;&gt;link&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;&quot;&gt;&lt;/a&gt;2018. 07. 제 26회 중소벤처기업 지원 아이디어 공모전 장려상 (공격적 스톡옵션 및 구주증여 활용을 통한 벤처기업 인력난 해소 및 고용다각화 - 장동현, 유재인, 김민규) &lt;a href=&quot;http://news.heraldcorp.com/view.php?ud=20180726000374&quot;&gt;link&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;&quot;&gt;&lt;/a&gt;2015. 12. 화봉고 동아리 연계 - 진로 설계 게임 &quot;찾job&quot; 제작 &lt;a href=&quot;http://www.readingnews.kr/news/articleView.html?idxno=3109&quot;&gt;link&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;&quot;&gt;&lt;/a&gt;2014. 06. International Supercomputing Conference 14 Student Cluster Challenge (ISC 14) &lt;a href=&quot;https://news.unist.ac.kr/kor/20140624-01/&quot;&gt;Finalist&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;&quot;&gt;&lt;/a&gt;2014. 04. Asia student Supercomputing Challenge 14 (ASC 14) &lt;a href=&quot;https://news.unist.ac.kr/kor/20140624-01/&quot;&gt;Finalist&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;&quot;&gt;&lt;/a&gt;2013. 11. 화봉고 동아리 - 진로 탐색 애플리케이션 제작 &lt;a href=&quot;https://www.nocutnews.co.kr/news/1127142&quot;&gt;link&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Node.js에서 aws s3 업로드를 하면 터진다? - aws sdk 이슈]]></title><description><![CDATA[개발 중 발생했던 골치 아팠던 이슈 복기용으로 적는다. 발단 Node.js에서 aws sdk를 이용해 S3에 파일을 업로드 할 일이 생겼다.
적당히 개발 후 돌려보는데 Node.js단에서 자꾸 크래시가 나는 일이 계속되었다. Assertion…]]></description><link>https://mingyu.kim/aws-s3-node/</link><guid isPermaLink="false">https://mingyu.kim/aws-s3-node/</guid><pubDate>Fri, 30 Jun 2023 01:30:21 GMT</pubDate><content:encoded>&lt;p&gt;개발 중 발생했던 골치 아팠던 이슈 복기용으로 적는다.&lt;/p&gt;
&lt;h2&gt;발단&lt;/h2&gt;
&lt;p&gt;Node.js에서 aws sdk를 이용해 S3에 파일을 업로드 할 일이 생겼다.
적당히 개발 후 돌려보는데 Node.js단에서 자꾸 크래시가 나는 일이 계속되었다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;log&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;[1] /Users/mango/.nvm/versions/node/v16.9.0/bin/node[56951]: ../src/node_http_parser.cc:517:static void node::(anonymous namespace)::Parser::Execute(const FunctionCallbackInfo&amp;lt;v8::Value&amp;gt; &amp;amp;): Assertion `parser-&amp;gt;current_buffer_.IsEmpty()&amp;#39; failed.&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;&lt;code&gt;Assertion &apos;parser-&gt;current_buffer_.IsEmpty()&apos; failed.&lt;/code&gt; ???&lt;/p&gt;
&lt;h2&gt;이게 웬 에러야&lt;/h2&gt;
&lt;p&gt;대체 이게 무슨 에러지 하고 찾아보았는데, 다음과 같은 &lt;a href=&quot;https://github.com/aws/aws-sdk-js-v3/issues/2843&quot;&gt;Opened Issue&lt;/a&gt;가 있었다.
Opened Issue만 보면 머리가 지끈거리기 시작하면서 어지러워진다.
심지어 만들어진 지 1년이 넘은 이슈다. 대체 무슨 문제길래?
여튼 한 번 내용을 보자.&lt;/p&gt;
&lt;p&gt;S3로 대용량 파일을 올리려다 발생한 에러라고 한다.
로컬 머신에서는 잘 작동하는데, EKS로 올린 EC2에서는 data size 관계 없이 항상 발생한다고 한다.
대체 왜 그럴까?&lt;/p&gt;
&lt;p&gt;밑의 의견들을 보니, 파일 사이즈를 정확히 5MB으로 올렸을 때, Multipart Upload chunk를 2개를 만드는데,
첫번째 chunk에 데이터가 5MB 다 들어가고 두번째 chunk가 텅텅 빈 채로 body에 들어가게 되면서 문제가 생긴다는 주장이 있다.
그런데 왜 0 byte body를 받는다고 죽는 걸까?&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;a href=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;더 자세한 문제를 보기 위해 Node.js쪽을 보자. 여기에도 &lt;a href=&quot;https://github.com/nodejs/node/issues/39671&quot;&gt;관련 이슈&lt;/a&gt;가 올라와 있다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Basically the AWS server sends first a HTTP/1.1 100 Continue as requested and then the HTTP 200 OK.&lt;/p&gt;
&lt;p&gt;If the two messages are received too closely (less than 5ms away) then the execute is somehow called on the same parser before the previous call even returns.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Node.js가 &lt;code&gt;100 Continue&lt;/code&gt;와 &lt;code&gt;200 OK&lt;/code&gt;를 짧은 시간(5ms) 이내에 동시에 받게 되면 제대로 파싱하지 못하고 죽기 때문이다.
이제 5MB 파일을 업로드하며 테스트했던 사람의 케이스가 이해가 되기 시작한다.
용량이 0인 chunk라면 처리 속도가 매우 빠를 테니 짧은 시간 내에 두 개 이상의 chunk response를 받게 될 가능성이 올라가고,
한 번이라도 그런 문제가 발생하는 순간 Assertion crash.
경험상 어떤 크기의 파일이라도 여러번 시도하다 보면 한 번씩 터졌기 때문에, 무조건 터질 가능성이 있다고 봐야 했다.&lt;/p&gt;
&lt;h2&gt;고쳐주세요&lt;/h2&gt;
&lt;p&gt;AWS SDK쪽에선 고칠 생각이 없었고(생각해보면 당연하다. Node.js의 버그인데 AWS쪽에서 고칠 이유가?),
다행히도 Node.js쪽에서 &lt;a href=&quot;https://github.com/nodejs/node/pull/43369&quot;&gt;패치&lt;/a&gt;를 했기 때문에,
해당 버전 이상(v18.6.0+, v16.17.0+)의 Node.js에서는 위 버그가 일어나지 않는다.&lt;/p&gt;
&lt;p&gt;생각해보면 꽤 위험한 서버 취약점이 될 수도 있는 버그같다.
사용자 입력 주소로 요청을 보내는 서버라면, 그 서버를 죽일 수 있는 것 아닌가?
지금은 고쳐져서 정말 다행이다.&lt;/p&gt;
&lt;h2&gt;Reference&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/aws/aws-sdk-js-v3/issues/2843&quot;&gt;https://github.com/aws/aws-sdk-js-v3/issues/2843&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/nodejs/node/issues/39671&quot;&gt;https://github.com/nodejs/node/issues/39671&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/nodejs/node/pull/43369&quot;&gt;https://github.com/nodejs/node/pull/43369&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Colorpicker 만들기]]></title><description><![CDATA[색상 선택을 하기 위한 UI를 만들 때, 보통 Color picker를 만드는 경우가 많다.
널리 알려진 UI기 때문에 여러 다양한 Color picker 라이브러리들과 예제들을 볼 수 있다.
 심지어 이젠 브라우저 기본 input…]]></description><link>https://mingyu.kim/color-picker/</link><guid isPermaLink="false">https://mingyu.kim/color-picker/</guid><pubDate>Fri, 16 Jun 2023 02:55:21 GMT</pubDate><content:encoded>&lt;p&gt;색상 선택을 하기 위한 UI를 만들 때, 보통 Color picker를 만드는 경우가 많다.
널리 알려진 UI기 때문에 여러 다양한 Color picker 라이브러리들과 예제들을 볼 수 있다.
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/33a6c1f9f8fa0df92e09ffa482459346/8bd7c/picker.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 83.54430379746836%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEJklEQVR42m2Sa0yTZxTH3w9q/KDRZNcscVu2Jdvi8MPMMudlLrskm9sXo1OXGE3GtrhlMzqJTOiGEcQCBSqUvm2BFuidWxWmouhEC1IQqE5QC70BrQyxUGG0otPf0jdz0+mHX845z5P8n/855xHy7aUobDqJRP4g98//T75dR2FNOQX/kF9ThiKBvRQh1yySYxbJs2ikKNWmRNQ8VizXqqW4xsDRnrOIFxpJdRvZ5Fbx5sV9fP1rPsJerYJdub/wU2EWMpUcWYmc3QX7SCvKRmF9jEO7jjyjSEbBAZIL9/CJ8nuSCrcwV7GGL8rTEKRXzRrJlcKq/dep5NqqfUgsUSdazBAVvL1yOa+/8xavrljKi+8lMW/5y2zO2I4gN6rJ1B8kq6KITIOS7MpisqtUZFeqOGAsecRhQvRgjZ7Tp36jtUmJrqMSudrJCbkD42EzQmF1GSV1lZTUV6F2VEkupVlaNFL+0DJsOnIsGrSHTUzfinOPe8T/ukU0FmM6HqehtRmh6mgtJ5ynaelq46TrLGKDmRyrSL7t0S3fF9QcMnHzz0luTk0RiUSYmYkTvxWnruUYQo5FRG4skQZdYNSiMpVx0FxKnk2LPHH3AAcsItlmtdSBsrocZY0e8ZCJolqDNIYCexlC3ZljdAz2Ue87h9Z/kp+DDvJ6HRRX62npbKO9p5P27k46us/T1d2F61w7LeectP1+Hveli7R2d+DsaqetpwN9ow3hcEsT1W1N7DlbzlpnDs86f2BdZz666io8AS8XIgEarvcgjp0h4/oR1k2aKGm34VXXU3G8ngFPP36vj0F/EGuTA8HgsJL843Y+3bGFZanrWbBzNZ/rUil1mGntcmHrOUmm285Wt8hqt5zZl7ex7ZCZog1VLNiwGFdnJwMDXvoHBrAkBIv0al5Lep6nlr7CE0lvMOeFJ1m7cyv6I9XUNjrYX6liuzmXdWYZK807eca6gY8MZexX9qGxqXBfvEQgECDgD2A+Vo/QeLSO5mYFWacryFQ0oU8tpsgoom2woNKKbEn5lrXp3/Bu+mYWy9Yzf9cqllkyMIwGmRgc5rLHg9frJeD3YzpSi+C80MHd23e5MzPDzJ0YsdszBENhjMfr2Zu1j1WffcjyjR+zZOMHvLRpJXPXLOF99XrskQqGPWEuX+0jEAwyNDhEbXMjwqgvxKinhZFrLrr7TxHoChLpv8PU9CRfJicze95cFi56mjnPLWTWogUI82fx1XcriPhL6ff9wZUrvfh8PgKBIEPDQwjD4TF6hoP0erpxudoJh8KMRyaIRqMYDAZSUlJIl8lIS08jXZbOjt27saiVXGs7xVV/gL7eS3g8Hkk0FAohTIxHmBwfZ2I8SjR6U/r5N27ckGJCNBaLEZv+j+mpKa5HxgmNjnEtHGZkZEQiHA4zNjbG33a+46FGeBPmAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;picker.png&quot;
        title=&quot;&quot;
        src=&quot;/static/33a6c1f9f8fa0df92e09ffa482459346/f058b/picker.png&quot;
        srcset=&quot;/static/33a6c1f9f8fa0df92e09ffa482459346/c26ae/picker.png 158w,
/static/33a6c1f9f8fa0df92e09ffa482459346/6bdcf/picker.png 315w,
/static/33a6c1f9f8fa0df92e09ffa482459346/f058b/picker.png 630w,
/static/33a6c1f9f8fa0df92e09ffa482459346/8bd7c/picker.png 845w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;심지어 이젠 브라우저 기본 input 타입으로도 제공한다.&lt;/p&gt;
&lt;deckgo-highlight-code   &gt;
          &lt;code slot=&quot;code&quot;&gt;&amp;lt;input type=&amp;quot;color&amp;quot; value=&amp;quot;#e66465&amp;quot;&amp;gt;&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 250px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/57541aead5f41949f826ac66ae8f8348/63868/input_color_picker.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 119.62025316455697%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAFJElEQVR42qWVe2hTdxTHrw+cGDWkTW2zRmvFWrRYH2gNVhRfLRXh2m2QoaKCaHQoYnX2H0lloEzqP4pGREQ6B4pEXF0FFZyy+Jrz0W04bVNXbWwbbdPm0eTG3N+9n3EjUec2GOzCF36/c87vc8+599xzpVgsRlcwSPDVK7pfviQSifB/LqmjtZUHNTvw7/yS33bV0vbwYdqh6/pfAjXD9l+A7W1t3GlooPmbU9w9eZLWBw/Q4nFS/f2ohkIh1J4etGAQ0d2N2tmJGgigdnSgPnuG2t6O+vQpaksLWiKBFAqFiITDRAMBoo8eEfP5iDU1ETt9mtixY8QOHCDqdnOnpoaWDRtQnE6iy5YRmzeP2LRpxAoLiY0ZQ1SSUK5dQwoEArQ2N9N26xZtV67Qdv48/lOn8B89ir++Hn9dHa01NTRu2sSPq1fTLsu0LlmCf84c/CUl+AsK8Ofk0CJJRAxgS0sL1y9f5saFC/hOn8Z3/Di+gwfx7duHb/dufNu349u4kVurVnFzxQp8lZX4ysvxzZiBb9IkfPn53MjO5rok0WsAm5ubOdPQwLkTJ/AeOoR3/368dXV4d+3Cu3Ur3vXr8a5cybnqas5VVuKdPx/vrFl4S0rwFhbizcvjnMXCGUmiywDevn2bg/X1HN2/H8+ePXhqa/Fs24bH5cKzbh0epxOPLOOpqMAzfz6esjI8paV4iorwjB2LJyeHo2YzByWJ5wbw6tWr1O7YQd3Onbi3bMG9YQPuNWtwO524V6zAXVWFe9Ei3OXluGfNwl1airu4GPf48bhtNtxZWdSNHk2tJNFmAJuamli7ahWb16zB5XTiqq7GtXw5rooKXAsX4iovx1VWhmv6dFwlJbiKinAVFOCy2XBZrbjMZjaPHMlaSeKxATx79iwVixdTXVWFvHgx8oIFyOXlyGVlyDNnIpeWIk+ejFxUhDx+PLLdjpyXh2y1IpvNyCYT1SNGUCFJ/GIAGxoaKJ06lbmzZ+OYPh3H1Kk4pkzBUVyMY+JEHIWFOMaNw5GfjyM3F4fVisNiwTF6NA6TCcfw4cwdPpxSSeKeATxy5AgWs5lx+fnYc3PJt1rJz8rCbshiwW42Yx81CrvJhH3ECOwffYR92DDsQ4diHzwY+6BBjBsyBIskcdMAHj58mJEmEzabjdzcXGwFBXw8YQJ5Y8aQZ7WS+76ys98oK+udLBZs2dmYhg7lhs/35tNLJpO8TiZJpFKE7t0n2HSReCxGQggSqSSKUEgJBaEqiKSCUF4jFEFSESSSgoQqiCtKmiMNDAwQ7u/n4qVLpEIhglu20v3JZ0R+uIZevxc+/Za+SpWvlsLSWp2qAFRyFVn7nPNUwvOlsNeJHuwlhY4Uj8fp6uzkRVcXqCrd+76mc/MXDDx6hPZrM/rFx8S/E9xthMab8H0UGumgSbvEUy6gRxvh50sQN6pQkTIDVQiB0DR0I/W+PoSuo+o64u2kU0FXQRjS0wNST4GmvZuFqVTqDdAYppqmEQn3cf/BQ172hhBCRROCSE8P9366T384yuuUmr7RHx3t/P7kCbouEOI16AZdfwfMZJiID/AiECAcjqCqKqoQKPE4LwIviCcS6QNGXH+4j56e3jdVCfH3DNMjXtPSUtVUGmasMwcMZfzG2vC/b/9HYOYf8ux5B9HYwNsgkVJof95hVPQ2pivYxave3vQ688jeAsPhMIqi/KsSioLRWu/bjM4wHkHan0ik+0/J9GGmhIyMl/H+PlPeh/sPbYaMTP8EAPyphr/y840AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;input_color_picker.png&quot;
        title=&quot;&quot;
        src=&quot;/static/57541aead5f41949f826ac66ae8f8348/63868/input_color_picker.png&quot;
        srcset=&quot;/static/57541aead5f41949f826ac66ae8f8348/c26ae/input_color_picker.png 158w,
/static/57541aead5f41949f826ac66ae8f8348/63868/input_color_picker.png 250w&quot;
        sizes=&quot;(max-width: 250px) 100vw, 250px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
생각보다 더 그럴듯하다.&lt;/p&gt;
&lt;p&gt;만약 JS로 color picker를 직접 구현한다고 결정했다면,
만드는 방법은 크게 두 가지가 있다&lt;/p&gt;
&lt;h2&gt;첫 번째&lt;/h2&gt;
&lt;p&gt;canvas로 그린다.
색을 선택할 때는 그냥 canvas에서 픽셀로 읽으면 색을 잘 뽑을 수 있다.&lt;/p&gt;
&lt;deckgo-highlight-code   &gt;
          &lt;code slot=&quot;code&quot;&gt;const canvas = document.getElementById(&amp;quot;canvas&amp;quot;);
const gl = canvas.getContext(&amp;quot;webgl&amp;quot;);
const pixels = new Uint8Array(
  gl.drawingBufferWidth * gl.drawingBufferHeight * 4
);
readPixels(x, y, width, height, format, type, pixels)&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;h2&gt;두 번째&lt;/h2&gt;
&lt;p&gt;div css로 그린다.
&lt;code&gt;liner-gradient&lt;/code&gt;를 이용하면 색상의 명암을 줄 수 있다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;css&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;background: linear-gradient(
    to right, 
    rgb(255, 255, 255), 
    rgba(255, 255, 255, 0)
);

background: linear-gradient(
    to top,
    rgb(0, 0, 0),
    rgba(0, 0, 0, 0)
);&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;이런 식으로 주어진 단색에 하얀색과 검은색을 시작으로 alpha 값을 0으로 끝나게 설정하면, 그라디언트를 구현할 수 있다.
대신 색을 선택할 땐 좌표를 기반으로 계산한 값을 줘야 한다.&lt;/p&gt;
&lt;h2&gt;어떤 방법이 더 좋을까?&lt;/h2&gt;
&lt;p&gt;나는 두 번째 방법(css)을 더 선호한다. 왜냐하면 Hue color에 따라 내부 색을 바꿀 때,
렌더링이 무거운 페이지의 경우 canvas에 그릴 때 문제가 발생할 수 있기 때문이다.
색이 휙휙 바뀔 때마다 계속 canvas 페인팅을 하느라 중간중간 깨지는 현상이 발생하는 경우가 있다.
다른 canvas에서 무거운 작업을 할 때 발생할 확률이 올라간다.&lt;/p&gt;
&lt;p&gt;하지만 두 번째 방법은 그럴 일이 거의 없다. 다만 색을 선택할 때 이것저것 계산하는게 귀찮긴 한데,
그래도 잘 작동하니까 사용하지 않을 이유가 없다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Javy를 왜 만든 걸까?]]></title><description><![CDATA[GeekNews를 보던 중 Javy라는 물건을 발견했다. Javy? JS 코드를 웹 어셈블리(이하 WASM)에서 돌릴 수 있도록 만들어 주는 툴 체인이다.
JS 코드를 가져온 뒤, WASM에 임베드 된 JS 런타임으로 실행을 하며,
dynamic…]]></description><link>https://mingyu.kim/what-is-javy/</link><guid isPermaLink="false">https://mingyu.kim/what-is-javy/</guid><pubDate>Fri, 09 Jun 2023 15:46:21 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://news.hada.io/topic?id=9289&quot;&gt;GeekNews&lt;/a&gt;를 보던 중 &lt;a href=&quot;https://github.com/bytecodealliance/javy&quot;&gt;Javy&lt;/a&gt;라는 물건을 발견했다.&lt;/p&gt;
&lt;h2&gt;Javy?&lt;/h2&gt;
&lt;p&gt;JS 코드를 웹 어셈블리(이하 WASM)에서 돌릴 수 있도록 만들어 주는 툴 체인이다.
JS 코드를 가져온 뒤, WASM에 임베드 된 JS 런타임으로 실행을 하며,
dynamic linking을 사용하면 아주 작은 크기의 웹어셈 모듈을 만들 수 있다고 한다.
즉, JS 코드를 가져와서 WASM 위에 올리고, 그걸 다시 node로 돌릴 수 있다는 뜻이다!&lt;/p&gt;
&lt;p&gt;....??&lt;/p&gt;
&lt;h2&gt;대체 왜 이런 짓을 하는가?&lt;/h2&gt;
&lt;p&gt;처음 보면 이해가 잘 안 되는 광경일 수 있다. 사실 나도 그랬다.
기껏 JS로 코드를 짜놓고 WASM 모듈로 올린다니? 그냥 JS로 쓰면 되잖아?
그 이유를 알기 위해 Javy의 역사를 잠시 훑어 볼 필요가 있다.&lt;/p&gt;
&lt;p&gt;Javy는 원래 Shopify에서 만든 오픈소스 프로젝트였다.
그 뒤, 현재는 &lt;a href=&quot;https://bytecodealliance.org/&quot;&gt;Bytecode Alliance&lt;/a&gt;에서 관리하고 있다.
Shopify는 온라인 이커머스 플랫폼으로,
쇼핑몰을 간단하게 만들 수 있도록 도와주는 일을 주로 하고 있다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1a28242ce5be02f2f6a3070e75f0d136/c1b63/shopify_logo.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABb0lEQVR42o2S30vCUBTH/Wt6q3/EhhQJUexBSfeS4JMIQY89KPTSS7JgzMIJoTMJwpdelpmCSRN/5CIVjSm0RWjobPeesK2xfPL7dM/l+znn3nOOA2zCgDFgWFoOE8NYR5qOtH+5MF4IMcYIoUUYABpyrvgaV8fyrw8hhAyrJSOXcWmcTbjcTV6W92lhM8Q6pbe6YRJFcTqdWk8YjUbValUQBKv4HB5r78kSJfavuJJ/93j1rpGTewM2zlIURdM0x3Esy8ZiMYZhfD5fIBBIp9OSJJmw/FnPVEJdpXgmbG1H124qXLn4uE44w+EwSZJer5cgCI/H43a7g8Egz/Mul0tRFBN+Ht5yJX9frTD5nY2jlZPrw4E8LBTum81mq9Wq1WqRSCSVSrXb7U6nk81mE4kEACCE5vDHV++px+dfTi8KewfnZOYhbm8vAEwmE+ufqqpqmrbYbQDQ0ewbzewttWZjhfYROv5K6PZVWXJJfgASDg1pMF9TIAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;shopify_logo.png&quot;
        title=&quot;&quot;
        src=&quot;/static/1a28242ce5be02f2f6a3070e75f0d136/f058b/shopify_logo.png&quot;
        srcset=&quot;/static/1a28242ce5be02f2f6a3070e75f0d136/c26ae/shopify_logo.png 158w,
/static/1a28242ce5be02f2f6a3070e75f0d136/6bdcf/shopify_logo.png 315w,
/static/1a28242ce5be02f2f6a3070e75f0d136/f058b/shopify_logo.png 630w,
/static/1a28242ce5be02f2f6a3070e75f0d136/40601/shopify_logo.png 945w,
/static/1a28242ce5be02f2f6a3070e75f0d136/c1b63/shopify_logo.png 1200w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그러면 더욱 더 이해가 안 가기 시작한다. 쇼핑몰 플랫폼에서 왜 이런 걸 내놓았을까?&lt;/p&gt;
&lt;p&gt;Shopify에서 내놓은 기능인 Shopify Functions 때문이다.
이게 무엇인고 하니, 유저가 운영하는 쇼핑몰의 백엔드 로직을 커스터마이징 할 수 있는 기능이다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/de367b4d2fa3d6004bc838ee4f611434/c4842/shopify_functions.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 73.41772151898735%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACeklEQVR42lVUXW/bMAz0/38dMGDD/sCeu75sA4phGPJSoEDXYl2ypfmo4zS2JcuSKMl2cwPpJEsNHGSZ0el4JJORd/h1f4M9gEop1EohxgQKESGMa9f3IIrwhz1RQAjhFC/LEkrV0E2DLM/XePvhDfgxpsV6tUZZ7mBah0o1cM5BKSUk1gco3WC5XKIoClS1RogR83WBq8kdHBEyYwxmsxlS6uApgPdaN2itR9M6eCIorSXGhLVusFqtsVqvsN2V8CFivswxuf6J1nlkXdfJLf0wSNBTBIUk7xQTrCc0rUXrSFLmeGPs+M16OE8w1gssExIRpne32L/shUAOHcCKvCc468Qr3jMBn4kxCqn1Ed4ZqO0UoRuQ1WWFj+/eY+j7E4mjeEJVVVgsFmiMQa0NaqXx/LzFbrcTPy0l7LY5/t5PhDzz3uMpL5C6DhQ7OHqt0FoH5zxaayWtltVSAAUukBELnjZb3D/8Ec+zYRjAeHnZIyb28z/EQ/aOC+JI9nwpe8zxYyz1A/p+QOx6Vuhwe/0dKZH8+Dxlrpq1FkppUckKuDgMaaGmlUuWTxtcfrlCZA855cuLC4TgQbE/EfKqGytt9Pg4l9S5L7WxJ7CnIfXINzkmk2+IaRirXBRbdF0vaRw9HBWSVJUnwEmFg6R7jpDG1PlCHwIyHJ79fv/aPyb1o0eyHpSLhwf42KHrB6jWY7opkdjDkDyuH75KUY7KRJ0P4pk9jB5bI4rPWopt4TlfbCt8vvktRc0cGfy4/TT+AcTXfSgTYIz0YllWsj8nHEkJs79zTKcz5MUzMu54XTdCyGUnbp0DxjZJ0nd1reRwOIsfUSktc22swz/lEXt6rYRCVQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;shopify_functions.png&quot;
        title=&quot;&quot;
        src=&quot;/static/de367b4d2fa3d6004bc838ee4f611434/f058b/shopify_functions.png&quot;
        srcset=&quot;/static/de367b4d2fa3d6004bc838ee4f611434/c26ae/shopify_functions.png 158w,
/static/de367b4d2fa3d6004bc838ee4f611434/6bdcf/shopify_functions.png 315w,
/static/de367b4d2fa3d6004bc838ee4f611434/f058b/shopify_functions.png 630w,
/static/de367b4d2fa3d6004bc838ee4f611434/40601/shopify_functions.png 945w,
/static/de367b4d2fa3d6004bc838ee4f611434/78612/shopify_functions.png 1260w,
/static/de367b4d2fa3d6004bc838ee4f611434/c4842/shopify_functions.png 1634w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
스토어 파이프라인을 자기 입맛대로 바꿀 수 있도록 해 주는 굉장히 신기한 서비스인데, 이걸 구현하기 위해 WASM이 쓰였다고 한다.
WASM의 특징 중 하나인 샌드박스가 유용하게 쓰인 모양. 물론 브라우저 밖에서 사용하는 것이니 WASI를 활용했다.
따라서 WASM과 잘 맞는 rust를 기본 언어로 사용하는 Shopify Functions를 출시하게 된다.&lt;/p&gt;
&lt;p&gt;하지만 문제가 하나 있는데, 대부분의 웹 개발자들은 rust를 쓸 줄 모른다는 사실!
다들 JS를 주로 쓰는데 이것 때문에 rust를 입문하기엔 rust의 진입장벽이 너무 높다.
따라서 Shopify는 WASM에 JS를 올린다는 발상을 실천으로 옮기게 되는데...&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;However, at the time of writing, WebAssembly’s architecture makes JIT-ing impossible. There’s no way for Wasm to generate and then execute code, as the memory storing the instructions is completely inaccessible to the module itself. This is by design: By preventing any code that wasn’t present during module instantiation from being executed, almost all remote code execution vulnerabilities become impossible.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;아뿔사, 그냥 기존의 JS 엔진을 가져오려 했지만 WASM에선 JIT가 불가능하다는 문제에 직면했다.
보안 이슈로 막아놓은 것. 따라서 다른 대안을 찾아야 했다.&lt;/p&gt;
&lt;p&gt;그렇게 찾은 대안은 바로 &lt;a href=&quot;https://bellard.org/quickjs/&quot;&gt;QuickJS&lt;/a&gt;.
C로 구현한 JS 엔진이다. ES2020 까지 지원한다.
C이기 때문에 WASM 위에 올라간다!&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6f888a055caf756c59f233c758751da7/212bf/javy_dynamic.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 25.316455696202528%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAFABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAIDBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAHcrKJAf//EABYQAQEBAAAAAAAAAAAAAAAAAAEAEf/aAAgBAQABBQJJUR2//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFhEBAQEAAAAAAAAAAAAAAAAAAAEC/9oACAECAQE/Acq//8QAFxABAQEBAAAAAAAAAAAAAAAAAAERMf/aAAgBAQAGPwLqTVf/xAAZEAADAQEBAAAAAAAAAAAAAAAAAREhMUH/2gAIAQEAAT8hZJQj2H2ofp44f//aAAwDAQACAAMAAAAQh9//xAAVEQEBAAAAAAAAAAAAAAAAAAABAP/aAAgBAwEBPxABZv/EABcRAAMBAAAAAAAAAAAAAAAAAAABIRH/2gAIAQIBAT8Qp0TGf//EABoQAQADAAMAAAAAAAAAAAAAAAEAESFRYXH/2gAIAQEAAT8QZUXeXC+qasXYxzYrwn//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;javy_dynamic.jpg&quot;
        title=&quot;&quot;
        src=&quot;/static/6f888a055caf756c59f233c758751da7/828fb/javy_dynamic.jpg&quot;
        srcset=&quot;/static/6f888a055caf756c59f233c758751da7/ff44c/javy_dynamic.jpg 158w,
/static/6f888a055caf756c59f233c758751da7/a6688/javy_dynamic.jpg 315w,
/static/6f888a055caf756c59f233c758751da7/828fb/javy_dynamic.jpg 630w,
/static/6f888a055caf756c59f233c758751da7/212bf/javy_dynamic.jpg 768w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
따라서 JS 스크립트를 받은 뒤, QuickJS를 통해 QuickJS 바이트코드로 변환하고,
그걸 WASM 위에 올린 뒤 실행하는 엄청난 마개조가 완성되었다.&lt;/p&gt;
&lt;h2&gt;결론&lt;/h2&gt;
&lt;p&gt;처음 봤을 땐 이런 물건이 나온 이유를 짐작하기 힘들었는데, 역시 다 이유가 있었다.
나름 합리적인 이유로 재미있는 결과가 나왔다는 게 굉장히 흥미로웠다.
적정기술의 훌륭한 예를 볼 수 있었던 흔치 않은 기회였다.&lt;/p&gt;
&lt;h2&gt;Reference&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://shopify.engineering/javascript-in-webassembly-for-shopify-functions&quot;&gt;Bringing Javascript to WebAssembly for Shopify Functions&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://news.hada.io/topic?id=9289&quot;&gt;Javy - JS to WebAssembly 툴체인&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/bytecodealliance/javy&quot;&gt;Javy Github&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://bellard.org/quickjs/&quot;&gt;QuickJS&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[svgo에서 viewBox를 지우는 이유]]></title><description><![CDATA[react로 svg를 다룰 때 겪을 가능성이 큰 문제에 대해 정리하였다.
분명 넣을 때는 멀쩡했는데, 빌드 완료한 코드의 svg가 좀 이상한 문제가 발생하는 경우가 있다.
그건 svgo 때문에 발생했을 가능성이 크다. svgo? SVG…]]></description><link>https://mingyu.kim/svgo-viewbox/</link><guid isPermaLink="false">https://mingyu.kim/svgo-viewbox/</guid><pubDate>Thu, 01 Jun 2023 02:35:21 GMT</pubDate><content:encoded>&lt;p&gt;react로 svg를 다룰 때 겪을 가능성이 큰 문제에 대해 정리하였다.
분명 넣을 때는 멀쩡했는데, 빌드 완료한 코드의 svg가 좀 이상한 문제가 발생하는 경우가 있다.
그건 svgo 때문에 발생했을 가능성이 크다.&lt;/p&gt;
&lt;h2&gt;svgo?&lt;/h2&gt;
&lt;p&gt;SVG Optimizer의 약자로, svg 최적화 도구다. 보통 &lt;a href=&quot;https://github.com/gregberge/svgr&quot;&gt;svgr&lt;/a&gt;을 사용하게 되면 기본적으로 켜져 있기 때문에 접하기 쉽다.&lt;/p&gt;
&lt;h2&gt;svgr?&lt;/h2&gt;
&lt;p&gt;react에서 svg를 사용할 때 많이 쓰는 방법 중 하나가 &lt;a href=&quot;https://github.com/gregberge/svgr&quot;&gt;svgr&lt;/a&gt;을 이용하는 것이다.
svgr은 svg 파일을 React component로 바꿔줘서 쓰기 쉽게 해 주는 툴이다. 그리고 svgr에서는 기본적으로 &lt;a href=&quot;https://github.com/svg/svgo&quot;&gt;svgo&lt;/a&gt;를 이용해 svg 최적화를 진행한다.&lt;/p&gt;
&lt;h2&gt;viewBox?&lt;/h2&gt;
&lt;p&gt;svg를 그릴 때, svg viewport의 위치와 크기를 정할 수 있다. 이 값이 바뀜에 따라 svg가 그려지는 위치가 바뀐다.
viewBox의 설정 없이 svg의 width와 height를 바꾸면 잘려 나오는 svg를 볼 수 있다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;xml&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;&amp;lt;svg viewBox=&amp;quot;0 0 100 100&amp;quot; xmlns=&amp;quot;http://www.w3.org/2000/svg&amp;quot;&amp;gt;
  &amp;lt;rect x=&amp;quot;0&amp;quot; y=&amp;quot;0&amp;quot; width=&amp;quot;100%&amp;quot; height=&amp;quot;100%&amp;quot; /&amp;gt;
  &amp;lt;circle cx=&amp;quot;50%&amp;quot; cy=&amp;quot;50%&amp;quot; r=&amp;quot;4&amp;quot; fill=&amp;quot;white&amp;quot; /&amp;gt;
&amp;lt;/svg&amp;gt;

&amp;lt;svg viewBox=&amp;quot;0 0 10 10&amp;quot; xmlns=&amp;quot;http://www.w3.org/2000/svg&amp;quot;&amp;gt;
  &amp;lt;rect x=&amp;quot;0&amp;quot; y=&amp;quot;0&amp;quot; width=&amp;quot;100%&amp;quot; height=&amp;quot;100%&amp;quot; /&amp;gt;
  &amp;lt;circle cx=&amp;quot;50%&amp;quot; cy=&amp;quot;50%&amp;quot; r=&amp;quot;4&amp;quot; fill=&amp;quot;white&amp;quot; /&amp;gt;
&amp;lt;/svg&amp;gt;&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 514px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/19e68979e524aceba096ffa497655364/dea13/viewbox.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABT0lEQVR42qVSy46CQBAcATl7UXwQDWrwGSUevOpFwkW/y6gx8avgoH6B+h8etDbVZmbd7MXNdlJMTfdQVA+tptMpqtUqGo0G6vX6DzBXKpUwn88RxzHK5TJqtRoKhQLa7baAnLlKpYLFYgHFjVIKuVxO1nfoXKfTwXg8Fs7zh8MB5/NZQE5DrI1GIyjf92VjWZYI2LYt0Jy1Xq8nKBaLuN1uYDweDwGDOc/z0O12P3NIsSAIsNlsROB+vxtBcsZut5MrMoJ0yLXf7yMMQ+HaIfdRFCHLMuNOh+ZpmmIymXwL6peHw+HL+n8FP2l5u92alp/Pp+GM/X7/alkeSiGfz8NxHLiuK9CctcFgIM558dfr9ddPuVwuMlI89+exoeh6vcbxeMTpdBLOWTVjM5vNZEDZFu/uHbrVJEmwWq3QbDbRarVkFvkRgpzvs7ZcLvEFq792X9Jz20IAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;viewbox.png&quot;
        title=&quot;&quot;
        src=&quot;/static/19e68979e524aceba096ffa497655364/dea13/viewbox.png&quot;
        srcset=&quot;/static/19e68979e524aceba096ffa497655364/c26ae/viewbox.png 158w,
/static/19e68979e524aceba096ffa497655364/6bdcf/viewbox.png 315w,
/static/19e68979e524aceba096ffa497655364/dea13/viewbox.png 514w&quot;
        sizes=&quot;(max-width: 514px) 100vw, 514px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
(두 svg의 차이는 viewBox밖에 없다)&lt;/p&gt;
&lt;h2&gt;svgo에 무슨 문제가 있는가&lt;/h2&gt;
&lt;p&gt;최적화 과정에서 &lt;strong&gt;viewBox를 제거&lt;/strong&gt;한다(!).&lt;/p&gt;
&lt;p&gt;그냥 묻지도 따지지도 않고 지우는 건 아니고, &lt;code&gt;width&lt;/code&gt;와 &lt;code&gt;height&lt;/code&gt; 속성이 viewBox와 같은 경우에만 지운다.
제거를 안 하는 옵션을 따로 제공하고 있지 않고, 관련 plugin을 꺼야 한다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;js&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;{
  loader: &amp;#39;@svgr/webpack&amp;#39;,
  options: {
    svgoConfig: {
      plugins: [
        { removeViewBox: false },
      ],
    },
  },
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;이런 식으로.&lt;/p&gt;
&lt;p&gt;하지만, 사람들은 왜 이 기능이 default로 켜져 있는지 의아해 했고, 많은 사람들이 기본으로 꺼져 있기를 원했다.&lt;/p&gt;
&lt;h2&gt;왜 안 고치고 있나요?&lt;/h2&gt;
&lt;p&gt;물론 오픈소스기 때문에 사람들은 해당 레포에서 &lt;a href=&quot;https://github.com/svg/svgo/issues/1128&quot;&gt;의문을 제기하기 시작했다.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9e957225f54e5351105559d6c17fe92c/9a1cf/benefit.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 58.86075949367089%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABmElEQVR42n2TW3LbMAxFtf8VpBvIWtKvfqTtdNpOEquybCuUrQcfIEjxZggxruu2puYIfAwwxAVYPf74gs8/v+G167Brd6h/Nag3NQ6HA7bbFpuXGm27E16eN1BKYZ41tLH416juHu7x4eEegSOsc3BEIO9BxDI3xopdlkVIKYljMX8H9CGCQwR5hucA5iA2xBwgnYnCghgTYlzW9fu8kH2qZrKYtUV/HHAaZwzTyjgbaEvQ1q0YB5PXxp33TTkzjjBLJh5Vvqa1Dvv9QXTbt3t0XQeleqhXhWN/RK96YV33omM+7/uyrxSG00luKQE9EcZxgHMOxhh470WrTE73/KVLcLVekYAxMkKgP8QV0ROKIy4C4L9DAn799BGz1kUXEp0yLhcpRHiOqy0QB5C/gIPoOGkrxax2TQ1jDYZxwjCMmHJBphnaGGkjY62In23uvdxSUu3CkpJ0SC5IeNcwcO63CcwMZr9a789kTckTiAgxhNsp5x/7gMB8JfRv7a6dbiE3bL4TmqcttJ7hHAmmpCev5FYlrl7KG2akpsZpDcFeAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;benefit.png&quot;
        title=&quot;&quot;
        src=&quot;/static/9e957225f54e5351105559d6c17fe92c/f058b/benefit.png&quot;
        srcset=&quot;/static/9e957225f54e5351105559d6c17fe92c/c26ae/benefit.png 158w,
/static/9e957225f54e5351105559d6c17fe92c/6bdcf/benefit.png 315w,
/static/9e957225f54e5351105559d6c17fe92c/f058b/benefit.png 630w,
/static/9e957225f54e5351105559d6c17fe92c/9a1cf/benefit.png 924w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
...그리고 가차없이 닫혔다.&lt;/p&gt;
&lt;p&gt;svgo에 있는 한 메인테이너가 viewBox 속성 자체도 용량을 가지고 있기 때문에 바이트 수를 줄이기 위해 지웠다고 답한 뒤,
장장 4년에 걸친 댓글 싸움을 하기에 이르렀다.
해당 메인테이너는 viewBox는 width랑 height가 각각 같을 때만 지우는데 무슨 문제냐는 입장이다.&lt;/p&gt;
&lt;p&gt;하지만 &lt;strong&gt;당연히&lt;/strong&gt; 문제가 생긴다.
scalability 관련해서 문제가 생기는데, viewBox가 없는 svg인 경우 css로 해당 svg의 크기를 변경할 때 짤리는 현상이 발생한다.
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b1fc23ebeb5b5e7010cc9c13a0383204/65654/scale.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 80.37974683544303%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACN0lEQVR42p1TwW7bMAzNN/Rv+w/9hJ7Tww4Feu2p5wFdMyCHBm2SpnViN7bk2JYoy7LfQDo2km7DgAl4MEWJj3ykPGm8R1VVIEuwxqKqjOyNMWKXRYHKVIKyrGBsf4dt7z14dQO6DpO2baH0Ack+RWkIVDcwVMM6D+NqGGpgXRDf4O9Ry13ng4DtEFpMQgjIixKZ0ii5MutgyMFYgrEehjJUZie2FV+PimGOYB85hLbFxDkHrTXy/IA8tyAi1HUN5wiu7uDcCkRPIGp7n3Nyh8G2oHYiXyRz8H6fIcs+kO6/QykmzpFlGloraH2A1gWUUpKYv0ppgWbo/nsoyqFCQppqECmQ/Qmy9VgBS7RkYcpCBjb4GTw0K6hgj4NqQsCEy/zb2m632O12SA8HRNstnp+fRVaWZVgsFlB5Lmfr9RrL5RLhK6FzFkmSII5jdG07+lc3N6A47jddhyGmXC6xub098wshMzdNIzI+Pz8Fp4mi+3u4NB0DcTwzHx+IHx7OCdlmCW9vb9hsNiKTq2xPKqQ0RXt8xCMpgIaf2fv7OSEH8si/YpBcLBb4cXmJ97u7Po79R8LVdIpkNpO/ZCRkqVEUYbVa4fX1VarkfWgaCdLzOb5dXGB+ddUThjAS7h4fEa/XaI7Jxx7+a2WzGeqyPJPLK3gPo9TY7/FhR9FWKuTRDxWe9nA5nYKS5LcpFy8veLm+Pu8hT7gmC6oMfNPIxE/Jhsz4kxImObnb9zB4UFXAG3uW6X/xC+4R0rCvg0vEAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;scale.png&quot;
        title=&quot;&quot;
        src=&quot;/static/b1fc23ebeb5b5e7010cc9c13a0383204/f058b/scale.png&quot;
        srcset=&quot;/static/b1fc23ebeb5b5e7010cc9c13a0383204/c26ae/scale.png 158w,
/static/b1fc23ebeb5b5e7010cc9c13a0383204/6bdcf/scale.png 315w,
/static/b1fc23ebeb5b5e7010cc9c13a0383204/f058b/scale.png 630w,
/static/b1fc23ebeb5b5e7010cc9c13a0383204/65654/scale.png 872w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그렇기 때문에 사람들이 viewBox 제거를 끄자고 계속 주장하지만...&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6a2162bb9aeea108ba729494b3f8d862/6da96/minority.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 22.151898734177216%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAmklEQVR42pWOSw7CMAxEe/97sWPHKdrYSUhL82nah0yBHQtGGlnPP81wu15Q50jLyvzxI7OWRtt26tZpW3/Xk+uXz57dmo2H3ju1VMbRMY4TIo5pMk84JwQfEFG8D4QQUfV49Yjqq29se+me2PeDAaC1hoqg4phTIsZIDJGUEqUUaq0/bfNSMhbsODgfGpQ8U/PCqYN/Zc8s4RMmmjadCCbU5gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;minority.png&quot;
        title=&quot;&quot;
        src=&quot;/static/6a2162bb9aeea108ba729494b3f8d862/f058b/minority.png&quot;
        srcset=&quot;/static/6a2162bb9aeea108ba729494b3f8d862/c26ae/minority.png 158w,
/static/6a2162bb9aeea108ba729494b3f8d862/6bdcf/minority.png 315w,
/static/6a2162bb9aeea108ba729494b3f8d862/f058b/minority.png 630w,
/static/6a2162bb9aeea108ba729494b3f8d862/6da96/minority.png 922w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;메인테이너는 &quot;아 이해했어. 쓸모가 있을 때가 있구나. 하지만 몇몇 사람들 때문에 default optimization을 끄는건 싫어&quot;라고 하며 의견을 묵살했다.
많은 사람들이 반론을 제기하지만 결국 다 묵살.&lt;/p&gt;
&lt;p&gt;시간은 흘러 이슈가 발행됐던 날로부터 몇 년이 지났고, 물론 변한 것은 없었다.
사람들은 점점 화가 나기 시작했고, 급기야 짤방까지 만들며 비난을 하기에 이르렀으며,
결국 포크를 해야 한다는 극단적인 주장까지 나오기도 했다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7309de097040f5a91020fe1c5a9847e8/6da96/cat.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 93.0379746835443%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEj0lEQVR42qWUe0yVZRjAPwkV5CKBgHhIDx5uHuCIchXkXBDkGnDIIGzgJaXUTLTFsKYzs9LarJzXoAEql3A2RGds6sw2y82cOivbYs3+UUEu5zuc+znwa3yfdvm7d/vteZ/32fP743m2Vxi4/SOieZwnI6OIFqvEuNWO2WLFYnfgdHlwuDw43RM43f+O/8XhcmN3uhAmJ9zY7XbGxkyMmUyYRJExk4jJJCKKZsbN4xJSPjqCadSEaDYjiiJm0YxoMku942YLbo8HAcBmszP4+DFDjwcZHBySePTwkfQ2MjzCyPAwQ4ODjI4MY7VYsVqfYrP9fbdYLLjdblnocDgxjZkwjY1JjI7IEtFkwma1Yrc7sTlc2OxOnA4HDrsdh/1ZlPF4PExMTMpCu90hzdA81ex0SlidThxOF9YpgWtqbmBzTUi5xWbDbLMhWm2INpmJyUkmJ5GF3/b3o0tLpUKvp1Sno1ino1yvo3Aq6vTodVq0Oq2Ul03V9XrKDAYqDAaMBgOVhlxy0tPpO39BFra2nyRQEIjz8iJGEAgXBFSCQKwgSPk0QUAQBPwFAaUgMFcQmP4UX0Eg0MtLqjc3t8jC7p4Opk0X8AnwxS8wkJl+PsyaHYBCGUpQRDCBIXNQRC5EGalAET4XRVg4y5MSKDHkEpmYiW9wJH4hCk539cjCru5OnpsxjeQl8agXqQiLDGRppppCXQYvpy5kvmIeCYuzWa7RkBgdQ1VGCnsKV1BXYiQmWU9YRBwBwS9w6pmwta2NfF06nzfUsb8qj6IsFQlJUVSkJXC4OovcWAXx6qVkaTQkx8VTrkkkfYGS2X7PE+wfQujsUGZ6+XKq/bQs7O09S2NdHs31RZxcb+StwjSiwv1Zl6pkX0UmSeH+FBQUs2PLdspXrkSzMIaEKBULFCoiQhVEKZQE+AT8I7x2+Tz1+dG8X5bO4eoCDlRo0SwIoqkki7YNRvI10ZSUVtLU+B4Nb6wnXqmiVJvD2ebPaD90kLWVRgJ8fOnq6JCFd3+4xOZCFR+UpnDkpZU06Jfw4cZXuPrx2/Q3rWFbcSpVZS+iz8nFWJRHoiqWynw97XvepOfIfsoLy6Qtd3d2ysL7t2+ws1bLOyVxNOUl07aplmP1lXxQmcmmvBSC/b3J12vJSstmkSoOdbSamopVfLqzgY7DH7Fj6yYS4tV0dXbLwnN950iKVWBcruTAmgIu791CdpwCTdgsouYG4efjzbKMFJZlZDNvznwyc7SUlBdR82oejU3r2L2rgt271nDzpzuy8Ocb1/li22u8W1fOlX2baTQux2emN8tUEagiQlCG+pObk0VaajYZi5eyRJ3EYnUsxQVaNq5dTf26GrqOH+Dhnw9k4S/Xr9G2/XW6t1dzqFZHsjJEmsl8/xkE+XgTMUOgaIWWqtWV1FRrqa1ewdYNq+g48glXv2nn65ZDtB7cyx/378rCBwO/c7O/l9++u8D358/Q+tUJjh87SnvLl7S3nKCz5SgX+87Sf+kivX099F04w5UrFxn49R7379xi4N4taQ9jT4ZkodvtxONx8H/P1G/zF17+6Psf4GVnAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;cat.png&quot;
        title=&quot;&quot;
        src=&quot;/static/7309de097040f5a91020fe1c5a9847e8/f058b/cat.png&quot;
        srcset=&quot;/static/7309de097040f5a91020fe1c5a9847e8/c26ae/cat.png 158w,
/static/7309de097040f5a91020fe1c5a9847e8/6bdcf/cat.png 315w,
/static/7309de097040f5a91020fe1c5a9847e8/f058b/cat.png 630w,
/static/7309de097040f5a91020fe1c5a9847e8/6da96/cat.png 922w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
(화가 많이 나신 듯)&lt;/p&gt;
&lt;p&gt;결국 지친 사람들은 다른 방법을 찾게 되는데, 더 이상 관리하고 있지 않는 해당 레포의 초기 메인테이너를 찾아가 컨택을 하기에 이르렀다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7bd813413da2115c6aaceed7a8757a47/0f67e/original.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 37.9746835443038%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA/ElEQVR42qWQ2W7EIAxF8///2RDIwmZ2MrcyTKOqfRxLR14xul6k2nFeBsZ6OIqwPiCkgtrvQWkdpU2f618aSu0wjmApotSGJcaE4zhxnCfO84LWGkYbXJeGVAescdDaDJz38J4mRHDOgyjAWgfnHHq/sfTexyAX5rCHtRaGMWbU+AERoZaK1hpqnf43r9drsLRaIVYBpXbsaodSClL+ILFtYni5bVi/1oEQG1YhIDeJdZ19/vRZyItYNkvIOSMlJr3jNIgxjjxzntO/PjMX9j5kMjFEhBAG5OmJU86IHFN4aiFE8P35hiyZbS7MBe7SuO8bn9ojuab0FD7lG2RXbSuzGEfwAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;original.png&quot;
        title=&quot;&quot;
        src=&quot;/static/7bd813413da2115c6aaceed7a8757a47/f058b/original.png&quot;
        srcset=&quot;/static/7bd813413da2115c6aaceed7a8757a47/c26ae/original.png 158w,
/static/7bd813413da2115c6aaceed7a8757a47/6bdcf/original.png 315w,
/static/7bd813413da2115c6aaceed7a8757a47/f058b/original.png 630w,
/static/7bd813413da2115c6aaceed7a8757a47/0f67e/original.png 921w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그 메인테이너는 현재 svgo가 npm 주간 다운로드 15M이나 되는데,
breaking change를 제대로 된 확인 없이 자신이 merge할 수는 없다고 하며 대신 viewBox 관련 이슈에 대한 내용을 README.md Troubleshooting 최상단에 올리는 PR을 merge하게 된다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/76dc71d5c19e1da9644c44b7e1efffc3/03914/readme.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 20.253164556962027%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAArElEQVR42mWMXW+CQBRE+f8/zPfqQ8MuCuoiiJIS2Mtd2sBpLH4Q+zA5M/dOJnKhpApf1CrUgyAoQvin/un1jcu7Eq1+Nnz4BCslpi/YhhLbF6RDiZuql8Ybz2/5zrEi58qJ6zy49oa4Sflstlg5ELcpsXdYfySRPabNSG6+c5huj+2yv45pU6yf/zt1ZN8FUR4qLqGhVk8dPDIFZNI7H37O/TQssi56ioyzfgG5KjB5GkIJbAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;readme.png&quot;
        title=&quot;&quot;
        src=&quot;/static/76dc71d5c19e1da9644c44b7e1efffc3/f058b/readme.png&quot;
        srcset=&quot;/static/76dc71d5c19e1da9644c44b7e1efffc3/c26ae/readme.png 158w,
/static/76dc71d5c19e1da9644c44b7e1efffc3/6bdcf/readme.png 315w,
/static/76dc71d5c19e1da9644c44b7e1efffc3/f058b/readme.png 630w,
/static/76dc71d5c19e1da9644c44b7e1efffc3/40601/readme.png 945w,
/static/76dc71d5c19e1da9644c44b7e1efffc3/03914/readme.png 1173w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/48e3d62319d5d8c24092cfe1c3535c39/66caf/troubleshooting.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 25.316455696202528%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAu0lEQVR42o1O0Y7DIAzr///lOq2VoECBsJCyq08Je7+LZMUEy/ZyHAfWdcW27Xg8nsg5Q+e+7++e/G9M7VJKQUoJtmNEjMlMY4jQMOWfzw/+O4t3Dvu+4/Xa4JwzE4X3HjEGQ60VRARqZFvfrbUJvVPDdV3TUNt5fyCEYE1DiDjPjN4FImJC5cyMLoIuAyzDbp07OjOYO8YY01BTSi6Wqp9UZ4t0ZjNWsWqoVDNtPED9RnuztWs0m4rMhr+kpYOL3Vy+NgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;troubleshooting.png&quot;
        title=&quot;&quot;
        src=&quot;/static/48e3d62319d5d8c24092cfe1c3535c39/f058b/troubleshooting.png&quot;
        srcset=&quot;/static/48e3d62319d5d8c24092cfe1c3535c39/c26ae/troubleshooting.png 158w,
/static/48e3d62319d5d8c24092cfe1c3535c39/6bdcf/troubleshooting.png 315w,
/static/48e3d62319d5d8c24092cfe1c3535c39/f058b/troubleshooting.png 630w,
/static/48e3d62319d5d8c24092cfe1c3535c39/66caf/troubleshooting.png 853w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이렇게 README에 적히게 되었고, 2023-06-01 현재 svgo의 마지막 code merge이다.&lt;/p&gt;
&lt;h2&gt;결론&lt;/h2&gt;
&lt;p&gt;오픈소스도 결국 사람이 만드는 프로젝트고, 사람이 운영한다.
세상에는 수 많은 사람들이 있고, 그 중에서는 별의 별 사람들이 있다는 사실을 항상 기억하며 오픈소스를 사용하는 것이 좋다고 생각한다.
언제나 오픈소스가 이상적으로 돌아가진 않고, 오히려 예상했던 대로 잘 굴러가는 케이스가 극히 드물지 않을까? 마치 사업처럼.&lt;/p&gt;
&lt;p&gt;또 오픈소스 관리자의 입장이 이해가 안 가는 것도 아닌 게,
수 많은 사람들이 이용하고 있는 도구의 기본값이 갑자기 바뀌게 되면 엄청난 파급력을 불러일으킬 것이기 때문에 조심하는 것도 그럴 수 있긴 하다고 생각한다.
물론 그럼에도 불구하고 해당 이슈는 사실상 버그 아닌가 싶어서 마음에 드는 대처는 아니었다.&lt;/p&gt;
&lt;p&gt;그리고 svgo로 최적화 시킨 svg는 viewBox 뿐만 아니라 다른 부분들도 높은 확률로 박살이 나 있어서, 그냥 끄는 게 정신건강에 이롭다...&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;js&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;// webpack.config.js
  {
    test: /\.svg$/,
    use: [&amp;#39;@svgr/webpack&amp;#39;],
    options: {
      svgo: false
    }
  }&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;이렇게 꺼 버리자. svg를 최적화 하려면 js 단에서 하는 게 아니라 svg 파일 단에서 하는게 맞다고 생각한다. 안 그러면 디자이너가 원하는 대로의 모습이 나오지 않는다.&lt;/p&gt;
&lt;h2&gt;Reference&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/viewBox&quot;&gt;MDN reference - viewBox&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/svg/svgo/issues/1128&quot;&gt;SVGO Github issue - What is the benefit of stripping viewBox?&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Vite에서 entrypoint html 다루기]]></title><description><![CDATA[기존 레포를 vite로 마이그레이션 할 일이 있어서 vite를 처음 써 봤는데, 기존 방식과 달라서 헤맸었다. 관련된 내용 정리. vite? 번들러(bundler) 툴이다. 디펜던시들을 사전 번들링(esbuild…]]></description><link>https://mingyu.kim/vite-starter/</link><guid isPermaLink="false">https://mingyu.kim/vite-starter/</guid><pubDate>Tue, 16 May 2023 02:55:21 GMT</pubDate><content:encoded>&lt;p&gt;기존 레포를 vite로 마이그레이션 할 일이 있어서 vite를 처음 써 봤는데, 기존 방식과 달라서 헤맸었다. 관련된 내용 정리.&lt;/p&gt;
&lt;h2&gt;vite?&lt;/h2&gt;
&lt;p&gt;번들러(bundler) 툴이다. 디펜던시들을 사전 번들링(esbuild로 한다) 하고, 소스코드들은 rollup으로 번들링한다.
그래서 webpack 같은 기존 툴보다 훨씬 빠르다고 주장하는데, 반대로 esbuild만 쓰다 vite를 쓰게 되면 훨씬 느려진 것을 체감할 수 있다...&lt;/p&gt;
&lt;p&gt;vite 측에선 rollup의 유연성을 위해 채택했다고 하는데, 사실 개인적으로도 맞는 판단이라고 생각한다.
esbuild는 진짜 뭐 없다. code spliting, TS type check 등의 기능들도 지원하지 않는다. 걍 빠르고 끝.
물론 esbuild 또한 점점 이것저것 개발하고 있다고 하는데, 아직은 기능들이 빈약한 것은 어쩔 수 없는 듯.&lt;/p&gt;
&lt;h2&gt;vite 기본 구조&lt;/h2&gt;
&lt;p&gt;vite.config.ts에서 build.input 파라미터 안에 entrypoint 가 될 &lt;code&gt;index.html&lt;/code&gt; 파일 위치를 넣고,
html 파일엔 import할 js/css path를 넣으면, vite가 알아서 번들링을 착착 해 준다.&lt;/p&gt;
&lt;p&gt;나머지 asset들도 잘 정리해주고,
chunk split(라이브러리 등을 다른 파일로 분리해서 배포하는 방법 - 라이브러리들을 따로 캐싱하고 싶을 때 주로 사용함)도
잘 지원해줘서 생각보다 사용하기 편하다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;html&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html lang=&amp;quot;en&amp;quot;&amp;gt;
  &amp;lt;head&amp;gt;
    &amp;lt;meta charset=&amp;quot;UTF-8&amp;quot; /&amp;gt;
    &amp;lt;link rel=&amp;quot;icon&amp;quot; type=&amp;quot;image/svg+xml&amp;quot; href=&amp;quot;/vite.svg&amp;quot; /&amp;gt;
    &amp;lt;meta name=&amp;quot;viewport&amp;quot; content=&amp;quot;width=device-width, initial-scale=1.0&amp;quot; /&amp;gt;
    &amp;lt;title&amp;gt;Vite + TS&amp;lt;/title&amp;gt;
  &amp;lt;/head&amp;gt;
  &amp;lt;body&amp;gt;
    &amp;lt;div id=&amp;quot;app&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;
    &amp;lt;script type=&amp;quot;module&amp;quot; src=&amp;quot;./src/main.ts&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
  &amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;여러 html 파일들을 entrypoint로 쓸 경우엔&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;typescript&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;  build: {
    rollupOptions: {
      input: {
        main: path.resolve(__dirname, &amp;#39;index.html&amp;#39;),
        sub: path.resolve(__dirname, &amp;#39;sub/index.html&amp;#39;),
      },
      ...
    },
  }&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;이런 식으로 정리할 수 있다.&lt;/p&gt;
&lt;h2&gt;문제&lt;/h2&gt;
&lt;p&gt;문제는 entrypoint html 파일들이 생성되는 path를 각각 파일들마다 커스텀 할 수 없다는 것이다.
무조건 해당 html file path를 따라 dist에 번들된다.
그래서 처음부터 vite를 쓴다면 상관 없겠지만, 기존 프로젝트에서 번들러를 바꾸려 할 때 문제가 생겼다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 364px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/dbe8c221f8d6d8a4bd15e1cdefc855d5/e45a9/structure.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 116.45569620253164%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAIAAACEf/j0AAAACXBIWXMAAA7DAAAOwwHHb6hkAAACQklEQVR42o2U646bMBCF9w02BHs8Q4yBEBwwFxuyCZCLWnUr9fKrUlWp7/8kFURVpWqTzfz/dI5nzvETEcVxfOiH0hSe5yESPjxPiChluNlsTFkWeU70H0zvwEEQbDZp23bOOgAQQlwx4gwB7vBPiELKUGc6yzJTlq+vr+k6ASEIGGsGEWcI/Bb/NEtQFEXGmK7r0jQV0yBxBrr2Pvwk5iPdhpEoVmFZFNY6Oc9qtUIKaPnsD1+4eSG2fJOfYIG0JtjGcveyPwzDeDp1ziEhsSXo2h++0vIZKbi5sFCpvCiNKWAeIWBWXjB3Yu2FfO+mMhKtVViZom7qKIrWaRrHMQoQYeR9+j1j4u03EyKgiJDrOHRd1+12+763dUNsydoLN929hTHwG32w5lA1dV3XOsu8xYJzfnX0zp0FinW0qfLG2sZaV1VVprMkSR5KGBGpSOV57qwzxjjn+mEwpnww21Mx6qo6jietM8YY53za9oPKcZxUVa21llIiin/dAHg326iU2uZ5KFcAf09CRNxn7QXSYqrHrWwLIaSUmd6Ox2NZGs75rEwIDNLC+/jrHnwVStbrummstUEQgAAxRXbO9uEza473EkYUqFCaIndtq5QKgmAuxuQcssofv92E5+xRSpAn4W6/Pwz98XzeufZaDJ5bv/9C/uJuMaJI54UpimsrYCo0kb9Yjt/5tiHu37FNUSgrY8qqXK1WSikZKuKMb+3y8oOYd+8zmGwHYNKoH8Z+HI/nc+fcdKp6EImev6G37/wHwNKbeyXESbQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;structure.png&quot;
        title=&quot;&quot;
        src=&quot;/static/dbe8c221f8d6d8a4bd15e1cdefc855d5/e45a9/structure.png&quot;
        srcset=&quot;/static/dbe8c221f8d6d8a4bd15e1cdefc855d5/c26ae/structure.png 158w,
/static/dbe8c221f8d6d8a4bd15e1cdefc855d5/6bdcf/structure.png 315w,
/static/dbe8c221f8d6d8a4bd15e1cdefc855d5/e45a9/structure.png 364w&quot;
        sizes=&quot;(max-width: 364px) 100vw, 364px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;html plugin들을 싹 다 살펴봤지만, 대부분 특정 html 파일들을 각각 원하는 path로 보낼 수 있는 기능을 지원하거나 하지는 않았다.
&lt;code&gt;@open-wc/rollup-plugin-html&lt;/code&gt; 플러그인을 사용하면 억지로 가능하긴 한데 중복으로 번들링을 한다던지 하는 문제가 있어서 패스.
애초에 이럴 때 쓰라고 있는 플러그인이 아니라 그런 듯 하다.&lt;/p&gt;
&lt;p&gt;결국 포기하고 html 파일 구조를 변경하는 것으로 마무리. 더 좋은 방법을 찾지 못했다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Three.js 에서 dispose()는 어떻게 작동할까?]]></title><description><![CDATA[threejs에서 dispose를 안 하면 gc가 제대로 수거하지 못 한다. dispose() 명령어를 이용해서 명시적으로 제거해야 한다.
링크 기하학은 속성 집합으로 정의된 꼭짓점 정보를 표시하는데, three.js…]]></description><link>https://mingyu.kim/threejs-dispose/</link><guid isPermaLink="false">https://mingyu.kim/threejs-dispose/</guid><pubDate>Fri, 28 Apr 2023 22:40:32 GMT</pubDate><content:encoded>&lt;p&gt;threejs에서 dispose를 안 하면 gc가 제대로 수거하지 못 한다. dispose() 명령어를 이용해서 명시적으로 제거해야 한다.
&lt;a href=&quot;https://threejs.org/docs/#manual/ko/introduction/How-to-dispose-of-objects&quot;&gt;링크&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;기하학은 속성 집합으로 정의된 꼭짓점 정보를 표시하는데, three.js는 속성마다 하나의 WebGLBuffer 유형의 대상을 만들어 내부에 저장합니다. 이러한 개체는 BufferGeometry.dispose를 호출할 때만 폐기됩니다. 만약 애플리케이션에서 기하학을 더이상 사용하지 않는다면, 이 방법을 실행하여 모든 관련 자원을 폐기하세요.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;왜 Three.js에서는 dispose()를 해야만 지울 수 있는걸까? Three.js에서 dispose()를 하면 어떤 일이 일어날까?&lt;/p&gt;
&lt;h2&gt;dispose()&lt;/h2&gt;
&lt;p&gt;대부분의 만들어져 있는 Object 코드들을 보면, dispose() 함수에 다음과 같이 오버라이딩을 한다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;js&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;// src/helpers/Box3Helper.js
  dispose() {
    this.geometry.dispose();
    this.material.dispose();
  }&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;각각의 geometry와 material에 dispose()를 실행하는데, geometry부터 확인해 보자.&lt;/p&gt;
&lt;h2&gt;Geometry&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;src/core/BufferGeometry.js&lt;/code&gt;를 보면,&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;js&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;dispose() {
  this.dispatchEvent( { type: &amp;#39;dispose&amp;#39; } );
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;다음과 같이 dispose 이벤트를 dispatch한다.
그럼 어디서 저 이벤트를 받을까?&lt;/p&gt;
&lt;p&gt;찾아보니 다음과 같은 파일들에서 이벤트를 받고 있다:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;src/renderers/WebGLRenderer.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;src/renderers/webgl/WebGLCubeMaps.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;src/renderers/webgl/WebGLCubeUVMaps.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;src/renderers/webgl/WebGLGeometries.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;src/renderers/webgl/WebGLMorphtargets.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;src/renderers/webgl/WebGLObjects.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;src/renderers/webgl/WebGLTextures.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;src/renderers/webgl/WebGLUniformsGroups.js&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;그 중 geometry는 WebGLGeometries.js에서 관리한다:&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;js&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;// src/renderers/webgl/WebGLGeometries.js

function WebGLGeometries( gl, attributes, info, bindingStates ) {

  const geometries = {};
  const wireframeAttributes = new WeakMap();

  function get( object, geometry ) {
    if ( geometries[ geometry.id ] === true ) return geometry;
    geometry.addEventListener( &amp;#39;dispose&amp;#39;, onGeometryDispose );
    geometries[ geometry.id ] = true;
    info.memory.geometries ++;
    return geometry;
  }

  function onGeometryDispose( event ) {
    const geometry = event.target;
    if ( geometry.index !== null ) {
      attributes.remove( geometry.index );
    }
    for ( const name in geometry.attributes ) {
      attributes.remove( geometry.attributes[ name ] );
    }

    geometry.removeEventListener( &amp;#39;dispose&amp;#39;, onGeometryDispose );

    delete geometries[ geometry.id ];
    const attribute = wireframeAttributes.get( geometry );
    if ( attribute ) {
      attributes.remove( attribute );
      wireframeAttributes.delete( geometry );
    }
    bindingStates.releaseStatesOfGeometry( geometry );
    if ( geometry.isInstancedBufferGeometry === true ) {
      delete geometry._maxInstanceCount;
    }
    //
    info.memory.geometries --;
  }

...&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;내부 &lt;code&gt;geometries&lt;/code&gt;와 &lt;code&gt;wireframeAttributes&lt;/code&gt;에서 값을 제거하고,
그리고 &lt;code&gt;bindingStates.releaseStatesOfGeometry()&lt;/code&gt;를 호출한다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;js&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;// src/renderers/webgl/WebGLBindingStates.js

  function releaseStatesOfGeometry( geometry ) {
    if ( bindingStates[ geometry.id ] === undefined ) return;
    const programMap = bindingStates[ geometry.id ];
    for ( const programId in programMap ) {
      const stateMap = programMap[ programId ];
      for ( const wireframe in stateMap ) {
        deleteVertexArrayObject( stateMap[ wireframe ].object );
        delete stateMap[ wireframe ];
      }
      delete programMap[ programId ];
    }
    delete bindingStates[ geometry.id ];
  }

  function deleteVertexArrayObject( vao ) {
    if ( capabilities.isWebGL2 ) return gl.deleteVertexArray( vao );
    return extension.deleteVertexArrayOES( vao );
  }&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;&lt;code&gt;releaseStatesOfGeometry()&lt;/code&gt;에서 바인딩 되어있는 &lt;code&gt;programMap&lt;/code&gt;을 제거하고,
&lt;code&gt;deleteVertexArray()&lt;/code&gt;를 호출해서 vertex를 제거한다(WebGL API이다)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;이 부분이 중요, 크롬 기준으로 &lt;code&gt;delete bindingStates[ geometry.id ];&lt;/code&gt;로 bindingStates 안에서 지우기만 해도 메모리 누수가 생기지 않는다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Material&lt;/h2&gt;
&lt;p&gt;Material은 어떨까?
똑같이 dispatchEvent()를 트리거한다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;js&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;// src/materials/Material.js
  dispose() {
    this.dispatchEvent( { type: &amp;#39;dispose&amp;#39; } );
  }&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;그리고 &lt;code&gt;src/renderers/WebGLRenderer.js&lt;/code&gt; 에서 받는다.&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;js&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;// src/renderers/WebGLRenderer.js
  function onMaterialDispose( event ) {
    const material = event.target;
    material.removeEventListener( &amp;#39;dispose&amp;#39;, onMaterialDispose );
    deallocateMaterial( material );
  }

  // Buffer deallocation
  function deallocateMaterial( material ) {
    releaseMaterialProgramReferences( material );
    properties.remove( material );
  }

  function releaseMaterialProgramReferences( material ) {
    const programs = properties.get( material ).programs;
    if ( programs !== undefined ) {
      programs.forEach( function ( program ) {
        programCache.releaseProgram( program );
      } );
      if ( material.isShaderMaterial ) {
        programCache.releaseShaderCache( material );
      }
    }
  }&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;properties: &lt;code&gt;src/renderers/webgl/WebGLProperties.js&lt;/code&gt; 에서 import한 &lt;code&gt;WebGLProperties()&lt;/code&gt;이며, WeakMap이다.&lt;/p&gt;
&lt;p&gt;WeakMap은 Map처럼 key-value object인데, key에는 객체 또는 등록되지 않은 symbol이어야 한다는 점이 큰 차이점이다.
그리고 WeakMap에서 참조하고 있는 key는 gc 수집 대상이다.
따라서 WeakMap에서만 참고하고 있는 객체는 gc한테 수거당한다.&lt;/p&gt;
&lt;p&gt;해당 material이 있는 program의 캐시를 지우고, shader cache까지 지우는 걸 확인할 수 있다(&lt;code&gt;WebGLShaderCache&lt;/code&gt; 안에서 &lt;code&gt;Map&lt;/code&gt;으로 관리하고 있다).&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;js&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;// src/renderers/webgl/WebGLPrograms.js
programs = []
...
function releaseProgram( program ) {
  if ( -- program.usedTimes === 0 ) {
    // Remove from unordered set
    const i = programs.indexOf( program );
    programs[ i ] = programs[ programs.length - 1 ];
    programs.pop();

    // Free WebGL resources
    program.destroy();
  }
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;위와 같은 방법으로 리스트에서 제거한다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;splice()&lt;/code&gt; 보다 이 방법이 더 빨라서 해당 방법으로 제거하는 것으로 보인다.&lt;/li&gt;
&lt;/ul&gt;
&lt;deckgo-highlight-code language=&quot;js&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;// src/renderers/webgl/WebGLProgram.js

this.destroy = function () {

  bindingStates.releaseStatesOfProgram( this );

  gl.deleteProgram( program );
  this.program = undefined;

};&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;program.destry()에선 gl.deleteProgram()을 호출한다(WebGL API이다).&lt;/p&gt;
&lt;h2&gt;Object&lt;/h2&gt;
&lt;deckgo-highlight-code language=&quot;js&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;// src/renderers/webgl/WebGLObjects.js
function dispose() {
  updateMap = new WeakMap();
}

function onInstancedMeshDispose( event ) {
  const instancedMesh = event.target;
  instancedMesh.removeEventListener(
    &amp;#39;dispose&amp;#39;, onInstancedMeshDispose
  );
  attributes.remove( instancedMesh.instanceMatrix );
  if ( instancedMesh.instanceColor !== null ) {
    attributes.remove( instancedMesh.instanceColor );
  }
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;h2&gt;Control&lt;/h2&gt;
&lt;deckgo-highlight-code language=&quot;js&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;// OrbitControls.js
this.dispose = function () {
  scope.domElement.removeEventListener( &amp;#39;contextmenu&amp;#39;, onContextMenu );

  scope.domElement.removeEventListener( &amp;#39;pointerdown&amp;#39;, onPointerDown );
  scope.domElement.removeEventListener( &amp;#39;pointercancel&amp;#39;, onPointerUp );
  scope.domElement.removeEventListener( &amp;#39;wheel&amp;#39;, onMouseWheel );

  scope.domElement.removeEventListener( &amp;#39;pointermove&amp;#39;, onPointerMove );
  scope.domElement.removeEventListener( &amp;#39;pointerup&amp;#39;, onPointerUp );


  if ( scope._domElementKeyEvents !== null ) {

    scope._domElementKeyEvents.removeEventListener( &amp;#39;keydown&amp;#39;, onKeyDown );
    scope._domElementKeyEvents = null;

  }

  //scope.dispatchEvent( { type: &amp;#39;dispose&amp;#39; } ); // should this be added here?

};&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;control 관련 코드들에서는 추가적으로 removeEventListener()를 호출해서 정리한다.&lt;/p&gt;
&lt;h2&gt;결론&lt;/h2&gt;
&lt;p&gt;geometry의 경우 내부 &lt;code&gt;geometries&lt;/code&gt; array와, &lt;code&gt;WebGLBindingStates&lt;/code&gt;의 내부 프로퍼티 &lt;code&gt;bindingStates&lt;/code&gt;에 있는 &lt;code&gt;programMap&lt;/code&gt;을 지우고,&lt;/p&gt;
&lt;p&gt;material의 경우 관련 정보는 다 WeakMap()에 저장되어 있고, dispose를 할 때도 program cache와 shader cache에서 값을 삭제한다.&lt;/p&gt;
&lt;p&gt;따라서 dispose()를 한 뒤 다시 사용해도 런타임 에러는 발생하지 않는다(캐시에 없기 때문에 다시 만들 뿐).&lt;/p&gt;
&lt;p&gt;Spector.js 등으로 찍어보면 geometry, texture를 dispose 안 한 경우 어떤 일이 일어나는지 쉽게 확인 가능하다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 519px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/03a1f09b9defd398d5c9e9e18c275989/b23ad/spector.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 123.41772151898734%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACGklEQVR42qVU61biMBjsiwC5J02hLb2hoIBQrFJcKu7K6vu/x+xpUI8/1/bHnHz5kjNnkszEE8ZC+GPIIIT0xxDah/QDh8/ajUF06dt2j4G0E0jjf/W4VGCEwFPjCCZKYaY5bDaHcnUBk15Bh1PXN3EGP19Ax7lb0+2eOIcOE+gog59eOUFCGXiMC8gwhZxMMRqNwCgBo/QyMvpRU1DyOf/W/7bOGAPjHJ7kDFEUo7hd42a1hm7lawN3Fcb/f+gLPM0ICitRPezx/v4G3zcgTg3rBE8ygjQw2NcHNMcjtFagn0foQqgYQT42qJ9+oT7UsNb2U+gIA4XtdoemaZAXmXscznl3wtQq7A8H/H17w6woehJygswq3FcVTqcT0iTpR2gEw9wQlLsSf85n3N2tQVo/diVsfRiwIaZxhCLPEIZhv1dulYjxFNSfgNoIlAswfnF9F3iCM4RRjOt1iflmB9UmRZkv5/8ULim5L1BVFV6eG2RpgtFwCN4egdIfw5OMIrEK290Ox6ZBUeT9fZgFGo/7GufXV8z6EsoPwv2+xtPTATeLhbNN76SU5T1efr+gLDcff19H22hOUAQKDw+PeH4+YVeW/YytOcO1IdhstmiODeq6hhSis7ldUkI+RBLHWK2WWC5vIaXsTuiSYSMQHWBAGIaDQef7c4SCc0TTBLNNhXg275USlxTBKALFkKYJJpMJKOue4zbL/wAoxdgumPTs1wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;spector.png&quot;
        title=&quot;&quot;
        src=&quot;/static/03a1f09b9defd398d5c9e9e18c275989/b23ad/spector.png&quot;
        srcset=&quot;/static/03a1f09b9defd398d5c9e9e18c275989/c26ae/spector.png 158w,
/static/03a1f09b9defd398d5c9e9e18c275989/6bdcf/spector.png 315w,
/static/03a1f09b9defd398d5c9e9e18c275989/b23ad/spector.png 519w&quot;
        sizes=&quot;(max-width: 519px) 100vw, 519px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;의문이 하나 드는데, scene에서 없어진 material은 weakmap 외의 어느 곳에서도 참조되고 있지 않기 때문에, gc가 수거해가지 않나? 하는 점이다.
실제로 three.js example 중 memory test를 돌릴 때, geometry만 dispose()해 줘도
chrome expector에서 메모리 누수가 발생하는 것으로 보이지 않았다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/68b5ee69bbcb588e0215ebecdefdf4ba/29114/no_dispose_material_.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.139240506329116%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABMElEQVR42pWSXUsCQRiF/f//opuug8DCrPQqPyrSIjMLMl3dRd11ddbZ+dh5QitwU6IOHAbegYdz3pmCtg5jDH+RUoowiliIhDhZMY8TJlFCtBDMlwlhNKfAP5Smit5gxOvQYzR4oz/rM5r18X2PIJgwnQf7gc7FOBcCWW4uZcrJTY/idZdavUGxU6f8eEXztk2z9UZ76O0CM/uClodoeYA1jTU+B6w+DCh3PM66PpUnn9J9wEVvzPnzkMvOMA90TmBUCWuaWHOHUadk9j1XeTILEUJsnKYSpeTXqZBy9Q38TOGyKUaXsaaFtW2MrpLZXu5RxsGEKF4gkmSTWKYKkUgWS0EUi5+VHVZXMeoIo443Cdept4Fr79+727iwe7HC6BpGVXBZyHaDNUxr/etP+AA8HWiYvc3MOQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;no_dispose_material.png&quot;
        title=&quot;&quot;
        src=&quot;/static/68b5ee69bbcb588e0215ebecdefdf4ba/f058b/no_dispose_material_.png&quot;
        srcset=&quot;/static/68b5ee69bbcb588e0215ebecdefdf4ba/c26ae/no_dispose_material_.png 158w,
/static/68b5ee69bbcb588e0215ebecdefdf4ba/6bdcf/no_dispose_material_.png 315w,
/static/68b5ee69bbcb588e0215ebecdefdf4ba/f058b/no_dispose_material_.png 630w,
/static/68b5ee69bbcb588e0215ebecdefdf4ba/40601/no_dispose_material_.png 945w,
/static/68b5ee69bbcb588e0215ebecdefdf4ba/78612/no_dispose_material_.png 1260w,
/static/68b5ee69bbcb588e0215ebecdefdf4ba/29114/no_dispose_material_.png 1920w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a6b0bdea2b4fa6d18b3856335f541c3a/29114/no_dispose.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 44.30379746835443%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABIElEQVR42pWS20rDQBRF+/+/1QdFLMZ6wUop5GraXCaT5jaZzCxJtGBrlXbDgfMyi82aM1PaoHXPJVFKkaYpUpbIskKIkm0iSXNJXpSkmWDGFek6xSaM2UQRfuThZwFhHhAnEXGyIxHbP4DWYo09C1y8r7l/WxE+P+G4SxzXYbV85WUR8rje/QbafqBP9/TJHtN+q7AHYMeD53Hre8zdgPkm4sYNp/0uDHDi8ARoLVo26KxGixqd19jBHDX0o5RESD7EjrzJ2CtB3Rc0Wk77EXB8rEWDli1D2U67UfroU6J4ixAFVVXTNh1to6iqFilrRFGda9h+NcyqCfjT5Qhsu+5gADu6thZjzDSDMWccji3zavI4+jw9m3H+y1VncwnwEypKvHzeU5cMAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;no_dispose.png&quot;
        title=&quot;&quot;
        src=&quot;/static/a6b0bdea2b4fa6d18b3856335f541c3a/f058b/no_dispose.png&quot;
        srcset=&quot;/static/a6b0bdea2b4fa6d18b3856335f541c3a/c26ae/no_dispose.png 158w,
/static/a6b0bdea2b4fa6d18b3856335f541c3a/6bdcf/no_dispose.png 315w,
/static/a6b0bdea2b4fa6d18b3856335f541c3a/f058b/no_dispose.png 630w,
/static/a6b0bdea2b4fa6d18b3856335f541c3a/40601/no_dispose.png 945w,
/static/a6b0bdea2b4fa6d18b3856335f541c3a/78612/no_dispose.png 1260w,
/static/a6b0bdea2b4fa6d18b3856335f541c3a/29114/no_dispose.png 1920w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt; (비교용 - dispose를 하지 않았을 때)&lt;/p&gt;
&lt;p&gt;WebGL spector 등으로 찍어봐도 &lt;code&gt;material.dispose();&lt;/code&gt; 만 주석처리 한 경우에는 메모리에 별 다른 변화를 확인할 수 없었다. BasicMaterial이라 그런가 싶다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 520px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0a5e920cb16b9a538b5c017806731dc7/69902/spector_no_dispose_material.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 124.0506329113924%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABoElEQVR42q2VzbKcIBCFfZGM0PyrIILjOD/JKou8/wudFMxNblVyV+Li2FWIh6b5aDs9LbBph0k3uOsT2keYeIXNO8ycYZcNJmS4/IBNtyod0kdc3nPyDuVGCCHRSeOghqkOKPcnfsgOn3EIX4y7z++Mg9QGHQkBk++waYNUuq7yn2SJ4ot36p95Cp0ijtUP8DGBpKqrtKiTnGEbDZa4oL9cIIhAnB9WJ4khjwZhjmCMgYphgzpNDHdvEVMG6/taqyZDQRy7I8zeg/MTMiwPVQpqLISxIBJtNSyGZl4rnAViZcd6/KIgdECdKjUMDs/vP1CYPGr017BgU055v+/vGjZst265ZHidLO6PB/gZ2BTDhzd4vV7NZtVQEiErhrxEFIRa0ekKJtxOIDtCjQFCahDxFrAJc1rhby+YuEKNE6S1kNYdUq3hNiiEENBfvp1QQ86wThZxSWA9a7/LFZvSbWLpNv05hk+vsZRuw05qDrPicEafwyGVf4FPkCFD2PF9hdrA5piDx/PnLyzbDtIa0g3HsSkcGkGYpgnOWvDGDH8DbBvIzfhGL0MAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;spector_no_dispose_material.png&quot;
        title=&quot;&quot;
        src=&quot;/static/0a5e920cb16b9a538b5c017806731dc7/69902/spector_no_dispose_material.png&quot;
        srcset=&quot;/static/0a5e920cb16b9a538b5c017806731dc7/c26ae/spector_no_dispose_material.png 158w,
/static/0a5e920cb16b9a538b5c017806731dc7/6bdcf/spector_no_dispose_material.png 315w,
/static/0a5e920cb16b9a538b5c017806731dc7/69902/spector_no_dispose_material.png 520w&quot;
        sizes=&quot;(max-width: 520px) 100vw, 520px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;Reference&lt;/h2&gt;
&lt;p&gt;WeakMap이 알고 싶다 - &lt;a href=&quot;https://ui.toast.com/posts/ko_20210901&quot;&gt;https://ui.toast.com/posts/ko_20210901&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Spector.js - &lt;a href=&quot;https://spector.babylonjs.com/&quot;&gt;https://spector.babylonjs.com/&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[UNIST Pixel Dungeon]]></title><description><![CDATA[Traditional rougelike game introducing about UNIST.
It’s Based on the source code of Shattered Pixel Dungeon Play store: link Github: https…]]></description><link>https://mingyu.kim/unist-pixel-dungeon/</link><guid isPermaLink="false">https://mingyu.kim/unist-pixel-dungeon/</guid><pubDate>Thu, 02 Mar 2017 20:10:10 GMT</pubDate><content:encoded>&lt;p&gt;Traditional rougelike game introducing about UNIST.
It’s Based on the source code of Shattered Pixel Dungeon&lt;/p&gt;
&lt;p&gt;Play store: &lt;a href=&quot;https://play.google.com/store/apps/details?id=com.unistpixel.unistpixeldungeon&quot;&gt;link&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Github: &lt;a href=&quot;https://github.com/mango-tree/UNIST-pixel-dungeon&quot;&gt;https://github.com/mango-tree/UNIST-pixel-dungeon&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 506px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4afa26901e026cb7fd07a5f7bca53a3d/29f4e/main.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 177.8481012658228%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,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&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;main.png&quot;
        title=&quot;&quot;
        src=&quot;/static/4afa26901e026cb7fd07a5f7bca53a3d/29f4e/main.png&quot;
        srcset=&quot;/static/4afa26901e026cb7fd07a5f7bca53a3d/c26ae/main.png 158w,
/static/4afa26901e026cb7fd07a5f7bca53a3d/6bdcf/main.png 315w,
/static/4afa26901e026cb7fd07a5f7bca53a3d/29f4e/main.png 506w&quot;
        sizes=&quot;(max-width: 506px) 100vw, 506px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 506px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b535e09216e86fba85b72cda7dfb5430/29f4e/about.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 177.8481012658228%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,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&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;about.png&quot;
        title=&quot;&quot;
        src=&quot;/static/b535e09216e86fba85b72cda7dfb5430/29f4e/about.png&quot;
        srcset=&quot;/static/b535e09216e86fba85b72cda7dfb5430/c26ae/about.png 158w,
/static/b535e09216e86fba85b72cda7dfb5430/6bdcf/about.png 315w,
/static/b535e09216e86fba85b72cda7dfb5430/29f4e/about.png 506w&quot;
        sizes=&quot;(max-width: 506px) 100vw, 506px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item></channel></rss>